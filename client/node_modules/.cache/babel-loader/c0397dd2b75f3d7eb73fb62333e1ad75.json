{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/gregburroughs/Desktop/Coding_Dojo/Dojo_Assignments/MERN_stack/MERNBelt/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import{Link,navigate}from'@reach/router';import axios from'axios';import{Paper,Card,Button,makeStyles}from'@material-ui/core';var styles={paper:{width:\"60rem\",padding:\"1rem\",margin:\"auto\"},table:{minWidth:650}};var useStyles=makeStyles({paper:{width:\"50rem\",padding:\"1rem\",margin:\"auto\"},card:{width:\"40rem\",padding:\"3rem\",margin:\"auto\"},pics:{width:\"10rem\"}});export default(function(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pirates=_useState2[0],setPirates=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/pirates').then(function(res){setPirates(res.data);setLoaded(true);}).catch(function(err){return console.log(err);});});var removeFromDom=function removeFromDom(pirateId){setPirates(pirates.filter(function(pirate){return pirate._id!==pirateId;}));};var deletePirate=function deletePirate(pirateId){axios.delete('http://localhost:8000/api/pirates/'+pirateId).then(function(res){removeFromDom(pirateId);});};var sortedPirates=pirates.sort(function(a,b){return a.name.localeCompare(b.name);});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topBar\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pirate Crew\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return navigate(\"/pirates/new\");},variant:\"contained\",color:\"primary\",children:\"Add Pirate\"})]}),/*#__PURE__*/_jsx(Paper,{elevation:3,children:loaded?/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{style:styles.table,size:\"small\",\"aria-label\":\"a dense table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Pirate Selfie \"}),/*#__PURE__*/_jsx(TableCell,{children:\"Pirate Name \"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:sortedPirates.map(function(pirate){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(\"img\",{className:classes.pics,src:pirate.imageUrl})}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:pirate.name}),/*#__PURE__*/_jsxs(TableCell,{component:\"th\",scope:\"row\",children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){navigate(\"/pirates/\".concat(pirate._id));},variant:\"contained\",color:\"primary\",children:\" View Pirate\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){deletePirate(pirate._id);},variant:\"contained\",color:\"secondary\",children:\" Walk the Plank!\"})]})]},pirate.name);})})]})}):\"\"})]});});","map":{"version":3,"sources":["/Users/gregburroughs/Desktop/Coding_Dojo/Dojo_Assignments/MERN_stack/MERNBelt/client/src/views/Main.js"],"names":["React","useState","useEffect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Link","navigate","axios","Paper","Card","Button","makeStyles","styles","paper","width","padding","margin","table","minWidth","useStyles","card","pics","classes","pirates","setPirates","loaded","setLoaded","get","then","res","data","catch","err","console","log","removeFromDom","pirateId","filter","pirate","_id","deletePirate","delete","sortedPirates","sort","a","b","name","localeCompare","map","imageUrl","e"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Link, navigate } from '@reach/router';\nimport axios from 'axios';\nimport {\n    Paper,\n    Card,\n    Button,\n    makeStyles\n} from '@material-ui/core';\n\nconst styles = {\n    paper: {\n        width: \"60rem\",\n        padding: \"1rem\",\n        margin: \"auto\"\n    },\n    table: {\n        minWidth: 650,\n    },\n}\n\nconst useStyles = makeStyles({\n    paper: {\n        width: \"50rem\",\n        padding: \"1rem\",\n        margin: \"auto\",\n        \n    },\n    card: {\n        width: \"40rem\",\n        padding: \"3rem\",\n        margin: \"auto\"\n    },\n    pics: {\n        width: \"10rem\"\n    }\n});\n\n\nexport default () => {\n    const classes = useStyles();\n    const [ pirates, setPirates ] = useState([]);\n    const [ loaded, setLoaded ] = useState(false);\n\n    useEffect(() => {\n        axios.get('http://localhost:8000/api/pirates')\n            .then(res => {\n                setPirates(res.data);\n                setLoaded(true);\n            })\n            .catch(err => console.log(err))\n    })\n\n    const removeFromDom = pirateId => {\n        setPirates(pirates.filter(pirate => pirate._id !== pirateId))\n    }\n\n    const deletePirate = (pirateId) => {\n        axios.delete('http://localhost:8000/api/pirates/' + pirateId)\n            .then(res => {\n                removeFromDom(pirateId)\n            })\n    }\n\n    const sortedPirates = pirates.sort((a,b) => a.name.localeCompare(b.name));\n\n    return (\n        <Card>  \n            <div className=\"topBar\">\n            <h1>Pirate Crew</h1>\n            <Button \n                onClick={ () => navigate(\"/pirates/new\")}\n                variant=\"contained\" \n                color=\"primary\"\n            >\n                Add Pirate</Button>\n            </div>\n            <Paper elevation={3} >\n            { loaded?\n                <TableContainer component={Paper}>\n                    <Table style={styles.table} size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Pirate Selfie </TableCell>\n                                <TableCell>Pirate Name </TableCell>\n                                <TableCell align=\"right\">Actions</TableCell>\n                            </TableRow>\n                        </TableHead>\n                    <TableBody>\n                        {sortedPirates.map((pirate) => (\n                            <TableRow key={pirate.name}>\n                                \n                                <TableCell component=\"th\" scope=\"row\">\n                                    <img className={classes.pics} src={pirate.imageUrl} />\n                                </TableCell>\n\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {pirate.name}\n                                </TableCell>\n\n                                <TableCell component=\"th\" scope=\"row\">\n                                    <Button onClick={(e) => {navigate(`/pirates/${pirate._id}`)}} variant=\"contained\" color=\"primary\"> View Pirate</Button>\n                                    <Button onClick={(e) => {deletePirate(pirate._id)}} variant=\"contained\" color=\"secondary\"> Walk the Plank!</Button>\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                    </Table>\n                </TableContainer>:\n                \"\"\n            }\n\n            </Paper>\n\n        </Card>\n    )\n}"]},"metadata":{},"sourceType":"module"}